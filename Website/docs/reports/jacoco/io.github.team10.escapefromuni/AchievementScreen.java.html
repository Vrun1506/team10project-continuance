<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AchievementScreen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">core</a> &gt; <a href="index.source.html" class="el_package">io.github.team10.escapefromuni</a> &gt; <span class="el_source">AchievementScreen.java</span></div><h1>AchievementScreen.java</h1><pre class="source lang-java linenums">package io.github.team10.escapefromuni;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.Input;
import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.GL20;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.GlyphLayout;

import java.util.ArrayList;

/**
 * NEW CLASS
 * AchievementScreen class that displays all the achievements to the screen.
 * Accessible from the pause and main menus.
 */
public class AchievementScreen implements Screen {

    private final EscapeGame game;
    private Texture backgroundImage;
    private BitmapFont font;
    private GlyphLayout layout;

    // screen sizes
    float screenHeight;

    ArrayList&lt;Achievement&gt; achievements;

    /**
     * Initialises a new AchievementScreen object.
     * @param game the current EscapeGame object.
     */
<span class="nc" id="L35">    public AchievementScreen(EscapeGame game) {</span>
<span class="nc" id="L36">        this.game = game;</span>
<span class="nc" id="L37">        this.game.achievementManager.loadAchievements();</span>
<span class="nc" id="L38">        achievements = this.game.achievementManager.getAchievements();</span>

<span class="nc" id="L40">        font = new BitmapFont();</span>
<span class="nc" id="L41">        layout = new GlyphLayout();</span>
<span class="nc" id="L42">    }</span>

    @Override
    public void show() {
        // backgrounds
<span class="nc" id="L47">        backgroundImage = new Texture(Gdx.files.internal(&quot;Settings_Background.png&quot;));</span>

<span class="nc" id="L49">        font = game.font;</span>
<span class="nc" id="L50">        layout = new GlyphLayout();</span>

<span class="nc" id="L52">    }</span>

    /**
     * Draws UI elements to the screen.
     */
    public void display() {
<span class="nc" id="L58">        game.viewport.apply();</span>
<span class="nc" id="L59">        game.batch.setProjectionMatrix(game.viewport.getCamera().combined);</span>
<span class="nc" id="L60">        game.batch.begin();</span>
<span class="nc" id="L61">        game.batch.draw(backgroundImage, 0, 0, game.viewport.getWorldWidth(), game.viewport.getWorldHeight());</span>
<span class="nc" id="L62">        game.batch.end();</span>

<span class="nc" id="L64">        game.uiViewport.apply();</span>
<span class="nc" id="L65">        game.batch.setProjectionMatrix(game.uiCamera.combined);</span>
<span class="nc" id="L66">        game.batch.begin();</span>

        // Achievement title
<span class="nc" id="L69">        String title = &quot;        ACHIEVEMENTS\n( PRESS ESC FOR MENU )&quot;;</span>
<span class="nc" id="L70">        layout.setText(font, title);</span>
<span class="nc" id="L71">        float titleX = (game.uiViewport.getWorldWidth() - layout.width) / 2f;</span>
<span class="nc" id="L72">        float titleY = game.uiViewport.getWorldHeight() - 100f;</span>
<span class="nc" id="L73">        font.setColor(Color.WHITE);</span>
<span class="nc" id="L74">        font.draw(game.batch, layout, titleX, titleY);</span>

        // displaying achievements
<span class="nc" id="L77">        font.setColor(Color.WHITE);</span>
<span class="nc" id="L78">        display_achievements();</span>

<span class="nc" id="L80">        game.batch.end();</span>
<span class="nc" id="L81">    }</span>

    /**
     * Displays the name, description and completion status of each loaded achievement.
     */
    public void display_achievements() {
<span class="nc bnc" id="L87" title="All 2 branches missed.">        for (int i = 0; i &lt; achievements.size(); i++) {</span>
<span class="nc" id="L88">            Achievement a = achievements.get(i);</span>
<span class="nc" id="L89">            font.setColor(Color.RED); // assume incomplete</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">            if (a.isComplete()) { font.setColor(Color.GREEN); } // change to green if complete</span>
<span class="nc" id="L91">            layout.setText(font, a.getName() + &quot; -&gt; &quot; + a.getDescription());</span>
<span class="nc" id="L92">            font.draw(game.batch, layout, 50f, (screenHeight / 2f) + 850f - (i * 50f));</span>

        }
<span class="nc" id="L95">        font.setColor(Color.WHITE); // reset back to white once loop is finished</span>
<span class="nc" id="L96">    }</span>

    /**
     * Returns to the main menu once the escape key is pressed.
     */
    public void onEscPress() {
<span class="nc" id="L102">        game.setScreen(new MainMenu(game));</span>
<span class="nc" id="L103">        dispose();</span>
<span class="nc" id="L104">    }</span>

    @Override
    public void render(float v) {
        // Check for ESC key press
<span class="nc bnc" id="L109" title="All 2 branches missed.">        if (Gdx.input.isKeyJustPressed(Input.Keys.ESCAPE)) {</span>
<span class="nc" id="L110">            onEscPress();</span>
        }

<span class="nc" id="L113">        Gdx.gl.glClearColor(0, 0, 0, 1);</span>
<span class="nc" id="L114">        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);</span>

        // draw everything
<span class="nc" id="L117">        display();</span>
<span class="nc" id="L118">    }</span>

    @Override
    public void resize(int i, int i1) {

<span class="nc" id="L123">    }</span>

    @Override
    public void pause() {

<span class="nc" id="L128">    }</span>

    @Override
    public void resume() {

<span class="nc" id="L133">    }</span>

    @Override
    public void hide() {

<span class="nc" id="L138">    }</span>

    @Override
    public void dispose() {
<span class="nc" id="L142">        backgroundImage.dispose();</span>
<span class="nc" id="L143">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>